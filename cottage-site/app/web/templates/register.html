{% extends "base.html" %}
{% block content %}
<section class="container mx-auto px-4 py-12 max-w-md">
  <h1 class="text-2xl font-semibold mb-6">Register</h1>

  {% if error %}
  <div class="mb-4 p-3 rounded-md bg-rose-900/40 border border-rose-700 text-rose-200 text-sm">{{ error }}</div>
  {% endif %}

  <form method="post" action="/register" class="space-y-4">
    <input type="hidden" name="next" value="{{ request.query_params.get('next') or '/' }}" />
    <div>
      <label class="block text-sm text-slate-300 mb-1">Name (optional)</label>
      <input name="name" type="text" class="w-full px-3 py-2 bg-slate-900 border border-slate-700 text-slate-100 placeholder-slate-400 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Your name" />
    </div>
    <div>
      <label class="block text-sm text-slate-300 mb-1">Email</label>
      <input name="email" type="email" required class="w-full px-3 py-2 bg-slate-900 border border-slate-700 text-slate-100 placeholder-slate-400 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500" placeholder="you@example.com" />
    </div>
    <div>
      <label class="block text-sm text-slate-300 mb-1">Password</label>
      <input name="password" type="password" required class="w-full px-3 py-2 bg-slate-900 border border-slate-700 text-slate-100 placeholder-slate-400 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500" />
    </div>
    {% if turnstile_site_key %}
    <div class="cf-turnstile" data-sitekey="{{ turnstile_site_key }}" data-theme="dark"></div>
    {% endif %}
    <button type="submit" class="w-full px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700">Create account</button>
  </form>

  <div class="my-6 flex items-center gap-3 text-slate-500 text-sm">
    <div class="flex-1 h-px bg-slate-700"></div>
    <span>or</span>
    <div class="flex-1 h-px bg-slate-700"></div>
  </div>

  <div class="space-y-3">
    <a href="/auth/google/login" class="block w-full text-center px-4 py-2 rounded-md border border-slate-700 bg-slate-800 text-slate-100 hover:bg-slate-700">Continue with Google</a>
    <a href="/auth/github/login" class="block w-full text-center px-4 py-2 rounded-md border border-slate-700 bg-slate-800 text-slate-100 hover:bg-slate-700">Continue with GitHub</a>
  </div>

  <p class="mt-6 text-sm text-slate-400">Already have an account? <a class="text-indigo-400 hover:underline" href="/login">Sign in</a></p>
</section>
{% if turnstile_site_key %}
<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
{% endif %}
{% endblock %}
